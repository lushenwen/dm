<!doctype html>
<html>
	<head>
		<title>Document</title>
		<meta charset="UTF-8">
		<link rel="stylesheet" href="regcss.css">
	</head>
	<body>
		<div id="d1">
			<table></table>
			<div id="d2">
				用户名称:<input type="text" id="dname"><br>
				用户密码:<input type="password" id="upwd"><br>
				用户邮箱:<input type="text" id="email"><br>
				用户手机:<input type="text" id="phone"><br>
				真实姓名:<input type="text" id="user_name"><br>
				性别:
						<input type="radio" name="gender" value="1" id="g_man">男
						<input type="radio" name="gender" value="2" id="g_woman">女
						<input type="radio" name="gender" value=null id="unknow">不详<br>
					<button onclick="reg()">注册</button>
			</div>
		</div>
		<script>
			function reg(){
				var xhr=new XMLHttpRequest();
				xhr.onreadystatechange=function(){
					if(xhr.readyState==4&&xhr.status==200){
						var result=xhr.responseText;
						alert(result);
					}
				}
				xhr.open("post","/user/reg",true);
				xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
				var getg="";
				if(g_man.checked){
					getg=g_man.value;
				}else if(g_woman.checked){
					getg=g_woman.value;
				}else{
					getg=unknow.value;
				}
				var formdata="dname="+dname.value+"&upwd="+upwd.value+"&email="+email.value+"&phone="+phone.value+"&user_name="+user_name.value+"&gender="+getg;
				xhr.send(formdata);
			}
		</script>
	</body>
</html>